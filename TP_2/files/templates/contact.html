{% extends "base.html" %} {% block header %}
<h1>Get <em>in</em> Touch</h1>
{% endblock %} {% block content %}

<div id="fh5co-contact" class="fh5co-section animate-box">
  <div class="container">
    <div class="row animate-box">
      <div class="col-md-8 col-md-offset-2 text-center fh5co-heading">
        <h2>Don't be shy, let's chat.</h2>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Recusandae
          enim quae vitae cupiditate, sequi quam ea id dolor reiciendis
          consectetur repudiandae. Rem quam, repellendus veniam ipsa fuga maxime
          odio? Eaque!
        </p>
        <p>
          <a
            href="mailto:info@yourdomainname.com"
            class="btn btn-primary btn-outline"
            >Contact Us</a
          >
        </p>
      </div>
    </div>

    <div class="row">
      <div class="col-md-6 col-md-push-6 col-sm-6 col-sm-push-6">
        <form action="/sendEmail" method="POST" id="form-wrap">
          <div class="row form-group">
            <div class="col-md-12">
              <label for="name">Your Name</label>
              <input
                type="text"
                class="form-control"
                id="name"
                name="name"
                required
              />
            </div>
          </div>
          <div class="row form-group">
            <div class="col-md-12">
              <label for="email">Your Email</label>
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                required
              />
            </div>
          </div>
          <div class="row form-group">
            <div class="col-md-12">
              <label for="message">Your Message</label>
              <textarea
                id="message"
                name="message"
                cols="30"
                rows="10"
                class="form-control"
                required
              ></textarea>
            </div>
          </div>
          <div class="row form-group">
            <div class="col-md-12">
              <button
                type="button"
                class="btn btn-primary btn-outline btn-lg"
                id="submit-button"
              >
                Submit Form
              </button>
            </div>
          </div>
        </form>

        <script>
          document
            .getElementById("submit-button")
            .addEventListener("click", function (event) {
              event.preventDefault();
              const form = document.getElementById("form-wrap");
              const formData = new FormData(form);

              fetch("/sendEmail", {
                method: "POST",
                body: formData,
              })
                .then((response) => {
                  if (response.ok) {
                    alert("Form submitted successfully!");
                  } else {
                    alert("There was an error submitting the form.");
                  }
                })
                .catch((error) => {
                  console.error("Error:", error);
                  alert("There was an error submitting the form.");
                });
            });
        </script>
      </div>
    </div>
  </div>
</div>
{% endblock %}
